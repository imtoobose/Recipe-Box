var _extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Ingredient=React.createClass({displayName:"Ingredient",formatFirst:function(a){var b=a.split("");return b[0]=b[0].toUpperCase(),b.join("")},render:function(){return React.createElement("div",_extends({},this.props,{className:"ingredient"}),this.formatFirst(this.props.name))}}),IngredientBox=React.createClass({displayName:"IngredientBox",makeCamelCase:function(a){var b=a.split(" ");for(var c in b){var d=b[c].split("");d[0]=d[0].toUpperCase(),b[c]=d.join("")}return b.join(" ")},getInitialState:function(){return{show_ings:"no"}},handleClick:function(a){if("ingbox-name"==a.target.id){var b="yes"==this.state.show_ings?"no":"yes";this.setState({show_ings:b})}},render:function(){return React.createElement("div",_extends({},this.props,{className:"ingbox",onClick:this.handleClick}),React.createElement("div",{id:"ingbox-name",title:"Toggle Ingredient Visibility",className:"ingbox-name line"},this.makeCamelCase(this.props.name)),React.createElement("div",{id:"ing-buttons",className:"ing-buttons"},React.createElement("button",{title:"Edit Recipe",id:this.props.id+"-edit-button",className:"ing-edit-button"}," ",React.createElement("i",{className:"ion ion-edit"})," "),React.createElement("button",{title:"Delete Recipe",id:this.props.id+"-delete-button",className:"ing-delete-button"}," ",React.createElement("i",{className:"ion ion-close-round"})," ")),React.createElement("div",{className:"ingredient-container"},"yes"==this.state.show_ings?this.props.ingredients.map(function(a,b){return React.createElement(Ingredient,{name:a,key:b})}):null))}}),Modal=React.createClass({displayName:"Modal",componentDidMount:function(){document.getElementById("text-modal").focus()},render:function(){return React.createElement("div",_extends({},this.props,{className:"modal"}),React.createElement("div",{id:"modal-inside"},React.createElement("div",{id:"modal-text-header",className:"modal-text-header modal-header"}," Recipe Name "),React.createElement("input",{type:"text",id:"text-modal",placeholder:"Enter Recipe Name",defaultValue:null==this.props.vals?"":this.props.vals.recipe_in}),React.createElement("div",{id:"modal-ingredient-header",className:"modal-text-header modal-header"}," Ingredients "),React.createElement("input",{type:"text",id:"ingredients-modal",placeholder:"Enter Ingredients",defaultValue:null==this.props.vals?"":this.props.vals.ingredient_in.join(", ")}),React.createElement("button",{className:"modal-button enter-button",id:this.props.id+"-enter-button"},"OK"),React.createElement("button",{className:"modal-button back-button",id:this.props.id+"-back-button"},"BACK")))}}),ButtonAdd=React.createClass({displayName:"ButtonAdd",render:function(){return React.createElement("button",{title:"Add a Recipe",id:"add-button",className:"m-button add-button"}," ",React.createElement("i",{className:"ion ion-plus-round"})," ")}}),Menus=React.createClass({displayName:"Menus",render:function(){return React.createElement("div",{className:"menus"},React.createElement("span",{className:"menus-text"},"Recipe Box"),React.createElement(ButtonAdd,null))}}),ContainerBox=React.createClass({displayName:"ContainerBox",render:function(){return React.createElement("div",_extends({},this.props,{className:"containerbox modal-"+this.props.modalVisible,onClick:this.handleClick}))}}),RecipeBox=React.createClass({displayName:"RecipeBox",getInitialState:function(){if(window.localStorage&&window.localStorage.values)return{"edit-box":null,modalMode:"add",modal:"hidden",recipes:JSON.parse(window.localStorage.getItem("values")).allRecipes};var a={allRecipes:[{recipe_in:"Pizza",ingredient_in:["Onions","Tomato","Bread","Sauce"]}]};return a.allRecipes.push({recipe_in:"Pumpkin Pie",ingredient_in:["Pumpkin","Sugar","Ready-made mould"]},{recipe_in:"Sandwich",ingredient_in:["Bread","Ham","Cucumber"]}),window.localStorage&&window.localStorage.setItem("values",JSON.stringify(a)),{modal:"hidden",recipes:a.allRecipes}},handleClick:function(a){switch(a.target.id){case"modal-enter-button":var b=document.getElementById("text-modal").value.length,c=document.getElementById("ingredients-modal").value.length;if(b>0&&c>0){var d=document.getElementById("text-modal").value,e=document.getElementById("ingredients-modal").value.split(",").map(function(a){return a.trim()});if(d.length>0&&(1!=e.length||""!=e[0])){var f=this.state.recipes.slice();if("add"==this.state.modalMode)f.push({recipe_in:d,ingredient_in:e});else{var g=+this.state.modalMode.replace("edit","");f[g].recipe_in=d,f[g].ingredient_in=e}var h={allRecipes:f};window.localStorage&&window.localStorage.setItem("values",JSON.stringify(h)),this.setState({recipes:f,modal:"hidden"})}}else 0===b?document.getElementById("text-modal").focus():document.getElementById("ingredients-modal").focus();break;case"add-button":"hidden"==this.state.modal&&this.setState({modal:"visible",editbox:null,modalMode:"add"});break;case"modal-back-button":this.setState({modal:"hidden"})}if(/-edit-button/g.test(a.target.id)){var i=a.target.id.slice().replace(/-edit-button/g,"").replace(/ing-/g,"");this.setState({modal:"visible",editbox:this.state.recipes[i],modalMode:"edit"+i})}else/-delete-button/g.test(a.target.id)&&(i=a.target.id.slice().replace(/-delete-button/g,"").replace(/ing-/g,""),f=this.state.recipes.slice(),f.splice(+i,1),h={allRecipes:f},window.localStorage&&window.localStorage.setItem("values",JSON.stringify(h)),this.setState({recipes:f}))},render:function(){return React.createElement("div",{className:"recipebox",id:"i_recipebox",onClick:this.handleClick},React.createElement(ContainerBox,{modalVisible:"hidden"==this.state.modal?"inactive":"active"},React.createElement(Menus,null),this.state.recipes.map(function(a,b){return React.createElement(IngredientBox,{id:"ing-"+b,name:a.recipe_in,ingredients:a.ingredient_in,key:b})})),"visible"==this.state.modal?React.createElement(Modal,{id:"modal",vals:null==this.state.editbox?null:this.state.editbox}):null)}});ReactDOM.render(React.createElement(RecipeBox,null),document.getElementById("App"));